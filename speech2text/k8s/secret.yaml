apiVersion: v1
kind: Secret
metadata:
  name: smap-stt-secrets
  namespace: smap-stt
  labels:
    app: smap-stt-api
type: Opaque
stringData:
  # API Security
  INTERNAL_API_KEY: "smap-internal-key-changeme"  # CHANGE THIS IN PRODUCTION
  
  # MinIO Credentials
  MINIO_ACCESS_KEY: "smap"  # CHANGE THIS IN PRODUCTION
  MINIO_SECRET_KEY: "hcmut2025"  # CHANGE THIS IN PRODUCTION
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: smap-stt-config
  namespace: smap-stt
  labels:
    app: smap-stt-api
data:
  # Application Configuration
  APP_NAME: "SMAP Speech-to-Text"
  APP_VERSION: "1.0.0"
  ENVIRONMENT: "production"
  DEBUG: "false"
  
  # API Configuration
  API_HOST: "0.0.0.0"
  API_PORT: "8000"
  API_WORKERS: "2"
  MAX_UPLOAD_SIZE_MB: "500"
  
  # Whisper Model Configuration
  WHISPER_MODEL_SIZE: "base"  # Options: base (default), small, medium
  WHISPER_LANGUAGE: "en"
  WHISPER_MODEL: "base"
  WHISPER_N_THREADS: "0"  # 0 for auto-detect (recommended)
  
  # Chunking Configuration (Production-Ready Feature)
  WHISPER_CHUNK_ENABLED: "true"
  WHISPER_CHUNK_DURATION: "30"  # seconds
  WHISPER_CHUNK_OVERLAP: "1"    # seconds
  
  # Timeout Configuration
  TRANSCRIBE_TIMEOUT_SECONDS: "90"
  
  # MinIO Configuration
  MINIO_ENDPOINT: "http://minio-service.smap-stt.svc.cluster.local:9000"  # Adjust for your environment
  
  # Logging
  LOG_LEVEL: "INFO"
  LOG_FILE: "logs/stt.log"

